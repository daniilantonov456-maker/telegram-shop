let tg = window.Telegram.WebApp;

// Массив корзины
let cart = [];

// Цены товаров
const prices = {
    "Наушники": 1500,
    "Смарт-часы": 3000,
    "Смартфон": 25000
};

// Добавление товара в корзину
function buy(product) {
    cart.push(product);
    alert(`${product} добавлен в корзину!`);
}

// Отправка корзины в бота
function sendCart() {
    if(cart.length === 0){
        alert("Корзина пуста!");
        return;
    }

    // Подсчёт общей суммы
    let total = 0;
    for(let item of cart){
        total += prices[item] || 0;
    }

    // Отправка данных в формате JSON
    const order = {
        items: cart,
        total: total
    };

    tg.sendData(JSON.stringify(order));
    cart = []; // очищаем корзину после отправки
}